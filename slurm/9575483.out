Requirement already satisfied: pytorch-lightning in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (2.0.3)
Requirement already satisfied: numpy>=1.17.2 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from pytorch-lightning) (1.24.3)
Requirement already satisfied: torch>=1.11.0 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from pytorch-lightning) (1.12.1)
Requirement already satisfied: tqdm>=4.57.0 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from pytorch-lightning) (4.65.0)
Requirement already satisfied: PyYAML>=5.4 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from pytorch-lightning) (6.0)
Requirement already satisfied: fsspec[http]>2021.06.0 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from pytorch-lightning) (2023.5.0)
Requirement already satisfied: torchmetrics>=0.7.0 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from pytorch-lightning) (0.11.4)
Requirement already satisfied: packaging>=17.1 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from pytorch-lightning) (23.1)
Requirement already satisfied: typing-extensions>=4.0.0 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from pytorch-lightning) (4.6.3)
Requirement already satisfied: lightning-utilities>=0.7.0 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from pytorch-lightning) (0.8.0)
Requirement already satisfied: requests in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from fsspec[http]>2021.06.0->pytorch-lightning) (2.31.0)
Requirement already satisfied: aiohttp!=4.0.0a0,!=4.0.0a1 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from fsspec[http]>2021.06.0->pytorch-lightning) (3.8.4)
Requirement already satisfied: attrs>=17.3.0 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->fsspec[http]>2021.06.0->pytorch-lightning) (23.1.0)
Requirement already satisfied: charset-normalizer<4.0,>=2.0 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->fsspec[http]>2021.06.0->pytorch-lightning) (3.1.0)
Requirement already satisfied: multidict<7.0,>=4.5 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->fsspec[http]>2021.06.0->pytorch-lightning) (6.0.4)
Requirement already satisfied: async-timeout<5.0,>=4.0.0a3 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->fsspec[http]>2021.06.0->pytorch-lightning) (4.0.2)
Requirement already satisfied: yarl<2.0,>=1.0 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->fsspec[http]>2021.06.0->pytorch-lightning) (1.9.2)
Requirement already satisfied: frozenlist>=1.1.1 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->fsspec[http]>2021.06.0->pytorch-lightning) (1.3.3)
Requirement already satisfied: aiosignal>=1.1.2 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->fsspec[http]>2021.06.0->pytorch-lightning) (1.3.1)
Requirement already satisfied: idna<4,>=2.5 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from requests->fsspec[http]>2021.06.0->pytorch-lightning) (3.4)
Requirement already satisfied: urllib3<3,>=1.21.1 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from requests->fsspec[http]>2021.06.0->pytorch-lightning) (2.0.2)
Requirement already satisfied: certifi>=2017.4.17 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from requests->fsspec[http]>2021.06.0->pytorch-lightning) (2023.5.7)
Requirement already satisfied: nibabel in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (5.1.0)
Requirement already satisfied: numpy>=1.19 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from nibabel) (1.24.3)
Requirement already satisfied: packaging>=17 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from nibabel) (23.1)
Requirement already satisfied: wandb in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (0.15.4)
Requirement already satisfied: Click!=8.0.0,>=7.0 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from wandb) (8.1.3)
Requirement already satisfied: GitPython!=3.1.29,>=1.0.0 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from wandb) (3.1.31)
Requirement already satisfied: requests<3,>=2.0.0 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from wandb) (2.31.0)
Requirement already satisfied: psutil>=5.0.0 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from wandb) (5.9.5)
Requirement already satisfied: sentry-sdk>=1.0.0 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from wandb) (1.25.1)
Requirement already satisfied: docker-pycreds>=0.4.0 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from wandb) (0.4.0)
Requirement already satisfied: PyYAML in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from wandb) (6.0)
Requirement already satisfied: pathtools in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from wandb) (0.1.2)
Requirement already satisfied: setproctitle in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from wandb) (1.3.2)
Requirement already satisfied: setuptools in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from wandb) (67.7.2)
Requirement already satisfied: appdirs>=1.4.3 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from wandb) (1.4.4)
Requirement already satisfied: protobuf!=4.21.0,<5,>=3.19.0 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from wandb) (4.23.2)
Requirement already satisfied: six>=1.4.0 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from docker-pycreds>=0.4.0->wandb) (1.16.0)
Requirement already satisfied: gitdb<5,>=4.0.1 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from GitPython!=3.1.29,>=1.0.0->wandb) (4.0.10)
Requirement already satisfied: charset-normalizer<4,>=2 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from requests<3,>=2.0.0->wandb) (3.1.0)
Requirement already satisfied: idna<4,>=2.5 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from requests<3,>=2.0.0->wandb) (3.4)
Requirement already satisfied: urllib3<3,>=1.21.1 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from requests<3,>=2.0.0->wandb) (2.0.2)
Requirement already satisfied: certifi>=2017.4.17 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from requests<3,>=2.0.0->wandb) (2023.5.7)
Requirement already satisfied: smmap<6,>=3.0.1 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from gitdb<5,>=4.0.1->GitPython!=3.1.29,>=1.0.0->wandb) (5.0.0)
Requirement already satisfied: omegaconf in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (2.3.0)
Requirement already satisfied: antlr4-python3-runtime==4.9.* in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from omegaconf) (4.9.3)
Requirement already satisfied: PyYAML>=5.1.0 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from omegaconf) (6.0)
loaded pretrained LPIPS loss from taming/modules/autoencoder/lpips/vgg.pth
Dataset already exists at ./data/brats_preprocessed.npy
Loading dataset from npy file...
Train shape: torch.Size([10880, 2, 128, 128])
Test shape: torch.Size([1920, 2, 128, 128])
Train slice positions shape: torch.Size([10880])
Test slice positions shape: torch.Size([1920])
Min: 0.0, Max: 1.0
loaded pretrained LPIPS loss from taming/modules/autoencoder/lpips/vgg.pth
Loading dataset from npy file...
Train shape: torch.Size([10880, 2, 128, 128])
Test shape: torch.Size([1920, 2, 128, 128])
Train slice positions shape: torch.Size([10880])
Test slice positions shape: torch.Size([1920])
Min: 0.0, Max: 1.0
loaded pretrained LPIPS loss from taming/modules/autoencoder/lpips/vgg.pth
Dataset already exists at ./data/brats_preprocessed.npy
Loading dataset from npy file...
Train shape: torch.Size([10880, 2, 128, 128])
Test shape: torch.Size([1920, 2, 128, 128])
Train slice positions shape: torch.Size([10880])
Test slice positions shape: torch.Size([1920])
Min: 0.0, Max: 1.0
loaded pretrained LPIPS loss from taming/modules/autoencoder/lpips/vgg.pth
Loading dataset from npy file...
Train shape: torch.Size([10880, 2, 128, 128])
Test shape: torch.Size([1920, 2, 128, 128])
Train slice positions shape: torch.Size([10880])
Test slice positions shape: torch.Size([1920])
Min: 0.0, Max: 1.0
loaded pretrained LPIPS loss from taming/modules/autoencoder/lpips/vgg.pth
Loading dataset from npy file...
Train shape: torch.Size([10880, 2, 128, 128])
Test shape: torch.Size([1920, 2, 128, 128])
Train slice positions shape: torch.Size([10880])
Test slice positions shape: torch.Size([1920])
Min: 0.0, Max: 1.0
loaded pretrained LPIPS loss from taming/modules/autoencoder/lpips/vgg.pth
Loading dataset from npy file...
Train shape: torch.Size([10880, 2, 128, 128])
Test shape: torch.Size([1920, 2, 128, 128])
Train slice positions shape: torch.Size([10880])
Test slice positions shape: torch.Size([1920])
Min: 0.0, Max: 1.0
loaded pretrained LPIPS loss from taming/modules/autoencoder/lpips/vgg.pth
Loading dataset from npy file...
Train shape: torch.Size([10880, 2, 128, 128])
Test shape: torch.Size([1920, 2, 128, 128])
Train slice positions shape: torch.Size([10880])
Test slice positions shape: torch.Size([1920])
Min: 0.0, Max: 1.0
loaded pretrained LPIPS loss from taming/modules/autoencoder/lpips/vgg.pth
Loading dataset from npy file...
Train shape: torch.Size([10880, 2, 128, 128])
Test shape: torch.Size([1920, 2, 128, 128])
Train slice positions shape: torch.Size([10880])
Test slice positions shape: torch.Size([1920])
Min: 0.0, Max: 1.0
Training: 0it [00:00, ?it/s]Training:   0%|          | 0/340 [00:00<?, ?it/s]Epoch 0:   0%|          | 0/340 [00:00<?, ?it/s] Epoch 0:   0%|          | 1/340 [00:04<26:48,  4.74s/it]Epoch 0:   0%|          | 1/340 [00:04<26:49,  4.75s/it, v_num=ibfh, hvae_loss_step=9.57e+4, total_auxilary_loss_step=2.37e+4, l1_loss_step=0.0493, p_loss_step=0.673, rec_loss_step=0.722, nll_loss_step=2.37e+4, logvar_step=0.000, disc_weight_step=0.000, g_loss_step=-.822]
Nombre de fichiers restants dans /dlocal/run/9575483 : 
NB_REMIND_FILE = 3 

########################################
   Comptabilité du calcul 9575483 
########################################
$ sacct --format=JobID,Partition,JobName,MaxRSS,MaxVMSize,NTasks,AllocCPUS,Start,End,Elapsed,AveCPU,MinCPU,ReqGRES,AllocGRES,NNodes,ExitCode,State,NodeList -j 9575483
       JobID  Partition    JobName     MaxRSS  MaxVMSize   NTasks  AllocCPUS               Start                 End    Elapsed     AveCPU     MinCPU      ReqGRES    AllocGRES   NNodes ExitCode      State        NodeList 
------------ ---------- ---------- ---------- ---------- -------- ---------- ------------------- ------------------- ---------- ---------- ---------- ------------ ------------ -------- -------- ---------- --------------- 
9575483        gpu_v100  script.sl                                        48 2023-06-19T15:23:02 2023-06-19T15:25:05   00:02:03                       PER_NODE:gp+        gpu:8        2     15:0     FAILED     my[379-380] 
9575483.bat+                 batch      4152K    155696K        1         24 2023-06-19T15:23:02 2023-06-19T15:25:05   00:02:03   00:00:07   00:00:07 PER_NODE:gp+        gpu:8        1     15:0     FAILED           my379 
9575483.ext+                extern          0    107952K        2         48 2023-06-19T15:23:02 2023-06-19T15:25:05   00:02:03   00:00:00   00:00:00 PER_NODE:gp+        gpu:8        2      0:0  COMPLETED     my[379-380] 
9575483.0                  python3   6562380K  39651180K        8         48 2023-06-19T15:23:18 2023-06-19T15:25:04   00:01:46   00:01:01   00:00:39 PER_NODE:gp+        gpu:8        2     0:15  CANCELLED     my[379-380] 

Pour plus d'informations sur la comptabilité du calcul, merci de consulter la documentation http://www-tech.criann.fr ou le manuel 'man sacct'
########################################
