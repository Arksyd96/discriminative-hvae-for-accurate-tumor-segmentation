Requirement already satisfied: pytorch-lightning in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (2.0.3)
Requirement already satisfied: numpy>=1.17.2 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from pytorch-lightning) (1.24.3)
Requirement already satisfied: torch>=1.11.0 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from pytorch-lightning) (1.12.1)
Requirement already satisfied: tqdm>=4.57.0 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from pytorch-lightning) (4.65.0)
Requirement already satisfied: PyYAML>=5.4 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from pytorch-lightning) (6.0)
Requirement already satisfied: fsspec[http]>2021.06.0 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from pytorch-lightning) (2023.5.0)
Requirement already satisfied: torchmetrics>=0.7.0 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from pytorch-lightning) (0.11.4)
Requirement already satisfied: packaging>=17.1 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from pytorch-lightning) (23.1)
Requirement already satisfied: typing-extensions>=4.0.0 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from pytorch-lightning) (4.6.3)
Requirement already satisfied: lightning-utilities>=0.7.0 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from pytorch-lightning) (0.8.0)
Requirement already satisfied: requests in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from fsspec[http]>2021.06.0->pytorch-lightning) (2.31.0)
Requirement already satisfied: aiohttp!=4.0.0a0,!=4.0.0a1 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from fsspec[http]>2021.06.0->pytorch-lightning) (3.8.4)
Requirement already satisfied: attrs>=17.3.0 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->fsspec[http]>2021.06.0->pytorch-lightning) (23.1.0)
Requirement already satisfied: charset-normalizer<4.0,>=2.0 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->fsspec[http]>2021.06.0->pytorch-lightning) (3.1.0)
Requirement already satisfied: multidict<7.0,>=4.5 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->fsspec[http]>2021.06.0->pytorch-lightning) (6.0.4)
Requirement already satisfied: async-timeout<5.0,>=4.0.0a3 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->fsspec[http]>2021.06.0->pytorch-lightning) (4.0.2)
Requirement already satisfied: yarl<2.0,>=1.0 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->fsspec[http]>2021.06.0->pytorch-lightning) (1.9.2)
Requirement already satisfied: frozenlist>=1.1.1 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->fsspec[http]>2021.06.0->pytorch-lightning) (1.3.3)
Requirement already satisfied: aiosignal>=1.1.2 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->fsspec[http]>2021.06.0->pytorch-lightning) (1.3.1)
Requirement already satisfied: idna<4,>=2.5 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from requests->fsspec[http]>2021.06.0->pytorch-lightning) (3.4)
Requirement already satisfied: urllib3<3,>=1.21.1 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from requests->fsspec[http]>2021.06.0->pytorch-lightning) (2.0.2)
Requirement already satisfied: certifi>=2017.4.17 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from requests->fsspec[http]>2021.06.0->pytorch-lightning) (2023.5.7)
Requirement already satisfied: nibabel in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (5.1.0)
Requirement already satisfied: numpy>=1.19 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from nibabel) (1.24.3)
Requirement already satisfied: packaging>=17 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from nibabel) (23.1)
Requirement already satisfied: wandb in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (0.15.4)
Requirement already satisfied: Click!=8.0.0,>=7.0 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from wandb) (8.1.3)
Requirement already satisfied: GitPython!=3.1.29,>=1.0.0 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from wandb) (3.1.31)
Requirement already satisfied: requests<3,>=2.0.0 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from wandb) (2.31.0)
Requirement already satisfied: psutil>=5.0.0 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from wandb) (5.9.5)
Requirement already satisfied: sentry-sdk>=1.0.0 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from wandb) (1.25.1)
Requirement already satisfied: docker-pycreds>=0.4.0 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from wandb) (0.4.0)
Requirement already satisfied: PyYAML in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from wandb) (6.0)
Requirement already satisfied: pathtools in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from wandb) (0.1.2)
Requirement already satisfied: setproctitle in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from wandb) (1.3.2)
Requirement already satisfied: setuptools in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from wandb) (67.7.2)
Requirement already satisfied: appdirs>=1.4.3 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from wandb) (1.4.4)
Requirement already satisfied: protobuf!=4.21.0,<5,>=3.19.0 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from wandb) (4.23.2)
Requirement already satisfied: six>=1.4.0 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from docker-pycreds>=0.4.0->wandb) (1.16.0)
Requirement already satisfied: gitdb<5,>=4.0.1 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from GitPython!=3.1.29,>=1.0.0->wandb) (4.0.10)
Requirement already satisfied: charset-normalizer<4,>=2 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from requests<3,>=2.0.0->wandb) (3.1.0)
Requirement already satisfied: idna<4,>=2.5 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from requests<3,>=2.0.0->wandb) (3.4)
Requirement already satisfied: urllib3<3,>=1.21.1 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from requests<3,>=2.0.0->wandb) (2.0.2)
Requirement already satisfied: certifi>=2017.4.17 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from requests<3,>=2.0.0->wandb) (2023.5.7)
Requirement already satisfied: smmap<6,>=3.0.1 in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from gitdb<5,>=4.0.1->GitPython!=3.1.29,>=1.0.0->wandb) (5.0.0)
Requirement already satisfied: omegaconf in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (2.3.0)
Requirement already satisfied: antlr4-python3-runtime==4.9.* in /gpfs1/home/2021012/sruan01/riles/env/lib/python3.10/site-packages (from omegaconf) (4.9.3)
Requirement already satisfied: PyYAML>=5.1.0 in /gpfs2/soft/Python3-DL/conda_envs/torch112/lib/python3.10/site-packages (from omegaconf) (6.0)
loaded pretrained LPIPS loss from taming/modules/autoencoder/lpips/vgg.pth
Dataset already exists at ./data/brats_preprocessed.npy
Loading dataset from npy file...
Train shape: torch.Size([12800, 2, 128, 128])
Test shape: torch.Size([0, 2, 128, 128])
Train slice positions shape: torch.Size([12800])
Test slice positions shape: torch.Size([0])
Train has mask shape: torch.Size([12800, 2])
Test has mask shape: torch.Size([0, 2])
Min: 0.0, Max: 1.0
loaded pretrained LPIPS loss from taming/modules/autoencoder/lpips/vgg.pth
Dataset already exists at ./data/brats_preprocessed.npy
Loading dataset from npy file...
Train shape: torch.Size([12800, 2, 128, 128])
Test shape: torch.Size([0, 2, 128, 128])
Train slice positions shape: torch.Size([12800])
Test slice positions shape: torch.Size([0])
Train has mask shape: torch.Size([12800, 2])
Test has mask shape: torch.Size([0, 2])
Min: 0.0, Max: 1.0
loaded pretrained LPIPS loss from taming/modules/autoencoder/lpips/vgg.pth
Loading dataset from npy file...
Train shape: torch.Size([12800, 2, 128, 128])
Test shape: torch.Size([0, 2, 128, 128])
Train slice positions shape: torch.Size([12800])
Test slice positions shape: torch.Size([0])
Train has mask shape: torch.Size([12800, 2])
Test has mask shape: torch.Size([0, 2])
Min: 0.0, Max: 1.0
loaded pretrained LPIPS loss from taming/modules/autoencoder/lpips/vgg.pth
Loading dataset from npy file...
Train shape: torch.Size([12800, 2, 128, 128])
Test shape: torch.Size([0, 2, 128, 128])
Train slice positions shape: torch.Size([12800])
Test slice positions shape: torch.Size([0])
Train has mask shape: torch.Size([12800, 2])
Test has mask shape: torch.Size([0, 2])
Min: 0.0, Max: 1.0
loaded pretrained LPIPS loss from taming/modules/autoencoder/lpips/vgg.pth
Loading dataset from npy file...
Train shape: torch.Size([12800, 2, 128, 128])
Test shape: torch.Size([0, 2, 128, 128])
Train slice positions shape: torch.Size([12800])
Test slice positions shape: torch.Size([0])
Train has mask shape: torch.Size([12800, 2])
Test has mask shape: torch.Size([0, 2])
Min: 0.0, Max: 1.0
loaded pretrained LPIPS loss from taming/modules/autoencoder/lpips/vgg.pth
Loading dataset from npy file...
Train shape: torch.Size([12800, 2, 128, 128])
Test shape: torch.Size([0, 2, 128, 128])
Train slice positions shape: torch.Size([12800])
Test slice positions shape: torch.Size([0])
Train has mask shape: torch.Size([12800, 2])
Test has mask shape: torch.Size([0, 2])
Min: 0.0, Max: 1.0
loaded pretrained LPIPS loss from taming/modules/autoencoder/lpips/vgg.pth
Loading dataset from npy file...
Train shape: torch.Size([12800, 2, 128, 128])
Test shape: torch.Size([0, 2, 128, 128])
Train slice positions shape: torch.Size([12800])
Test slice positions shape: torch.Size([0])
Train has mask shape: torch.Size([12800, 2])
Test has mask shape: torch.Size([0, 2])
Min: 0.0, Max: 1.0
loaded pretrained LPIPS loss from taming/modules/autoencoder/lpips/vgg.pth
Loading dataset from npy file...
Train shape: torch.Size([12800, 2, 128, 128])
Test shape: torch.Size([0, 2, 128, 128])
Train slice positions shape: torch.Size([12800])
Test slice positions shape: torch.Size([0])
Train has mask shape: torch.Size([12800, 2])
Test has mask shape: torch.Size([0, 2])
Min: 0.0, Max: 1.0
Training: 0it [00:00, ?it/s]Training:   0%|          | 0/50 [00:00<?, ?it/s]Epoch 0:   0%|          | 0/50 [00:00<?, ?it/s] 
Nombre de fichiers restants dans /dlocal/run/9576061 : 
NB_REMIND_FILE = 3 

########################################
   Comptabilité du calcul 9576061 
########################################
$ sacct --format=JobID,Partition,JobName,MaxRSS,MaxVMSize,NTasks,AllocCPUS,Start,End,Elapsed,AveCPU,MinCPU,ReqGRES,AllocGRES,NNodes,ExitCode,State,NodeList -j 9576061
       JobID  Partition    JobName     MaxRSS  MaxVMSize   NTasks  AllocCPUS               Start                 End    Elapsed     AveCPU     MinCPU      ReqGRES    AllocGRES   NNodes ExitCode      State        NodeList 
------------ ---------- ---------- ---------- ---------- -------- ---------- ------------------- ------------------- ---------- ---------- ---------- ------------ ------------ -------- -------- ---------- --------------- 
9576061        gpu_v100  script.sl                                        48 2023-06-20T12:06:42 2023-06-20T12:09:29   00:02:47                       PER_NODE:gp+        gpu:8        2      1:0     FAILED     my[381-382] 
9576061.bat+                 batch      4136K    155696K        1         24 2023-06-20T12:06:42 2023-06-20T12:09:29   00:02:47   00:00:07   00:00:07 PER_NODE:gp+        gpu:8        1      1:0     FAILED           my381 
9576061.ext+                extern          0    107952K        2         48 2023-06-20T12:06:42 2023-06-20T12:09:29   00:02:47   00:00:00   00:00:00 PER_NODE:gp+        gpu:8        2      0:0  COMPLETED     my[381-382] 
9576061.0                  python3  18357568K  60943668K        8         48 2023-06-20T12:06:56 2023-06-20T12:09:28   00:02:32   00:01:11   00:00:26 PER_NODE:gp+        gpu:8        2      1:0     FAILED     my[381-382] 

Pour plus d'informations sur la comptabilité du calcul, merci de consulter la documentation http://www-tech.criann.fr ou le manuel 'man sacct'
########################################
